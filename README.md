# 此项目是用于记录前后段通过docker部署后，前端服务和后端服务之间的网络问题

因为在之前的使用经验中，几乎不配置nginx相关的配置，前端直接使用后端的主机IP外加外部端口进行联通，这样的方式不适合生产环境。因此，特使用次项目记录自己的学习过程。

## 1.通过docker部署，将两个服务联通到一个网络中，并且使用服务名和内部container的端口号进行配置，发现使用浏览器访问前端后，触发相应的接口并不会将请求转发到后端。

那么这是因为什么呢？原因可能有两种：

跨域（CORS）限制
浏览器有严格的同源策略（Same-Origin Policy），当前端页面的域名 / 端口与后端 API 的域名 / 端口不一致时，浏览器会阻止跨域请求，即使前端容器内部能通过服务名访问后端（容器间网络互通），浏览器也会报错。
例如：前端在浏览器中访问的地址是 http://localhost:8080，而后端 API 请求的是 http://backend:5000（服务名），两者域名 / 端口不同，触发跨域限制。

前端请求路径错误
若前端请求时直接使用后端服务名（如 http://backend:5000/hello），浏览器会将 backend 解析为无效域名（浏览器无法识别 Docker 内部服务名），导致请求失败。
容器内部能通过 curl backend:5000 访问，是因为 Docker 的 DNS 服务在容器网络内生效，但浏览器运行在宿主机，无法解析 Docker 内部服务名。

## 解决方法

1.后端配置跨域

2.在 Docker 中添加 Nginx 服务，作为前端和后端的中间层，统一请求域名 / 端口，避免跨域。
